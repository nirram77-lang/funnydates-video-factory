<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunnyDates Video Factory V5.0 ğŸ¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a0f;
            --bg-card: #1a1a2e;
            --bg-card-hover: #252540;
            --accent-purple: #9b59b6;
            --accent-pink: #e91e63;
            --accent-orange: #ff6b35;
            --accent-gold: #ffd700;
            --accent-green: #4ade80;
            --accent-blue: #3b82f6;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --border-color: #333355;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Heebo', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1a0a2e 50%, #0a1a2e 100%);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .version-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-orange));
            color: #000;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-top: 10px;
        }

        /* Tabs */
        .tabs-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 700;
            border: 2px solid var(--border-color);
            border-radius: 15px;
            background: var(--bg-card);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tab-btn:hover {
            background: var(--bg-card-hover);
            border-color: var(--accent-purple);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            border-color: transparent;
            color: white;
            transform: scale(1.05);
        }

        .tab-btn .icon {
            font-size: 1.5rem;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Settings Card */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .setting-item {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 15px;
        }

        .setting-label {
            display: block;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .setting-input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
        }

        .setting-input:focus {
            outline: none;
            border-color: var(--accent-purple);
        }

        /* Buttons */
        .btn {
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(155, 89, 182, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent-green), #22c55e);
            color: #000;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(74, 222, 128, 0.3);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-gold));
            color: #000;
        }

        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
        }

        .btn-blue {
            background: linear-gradient(135deg, var(--accent-blue), #2563eb);
            color: white;
        }

        .btn-blue:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--accent-purple);
            color: var(--accent-purple);
        }

        .btn-outline:hover {
            background: var(--accent-purple);
            color: white;
        }

        .btn-large {
            padding: 18px 40px;
            font-size: 1.2rem;
            width: 100%;
            justify-content: center;
        }

        .buttons-row {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        /* Chapter Display */
        .chapter-display {
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.1), rgba(233, 30, 99, 0.1));
            border: 2px solid var(--accent-purple);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .chapter-number {
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--accent-pink);
        }

        .chapter-title-he {
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
            margin: 10px 0;
        }

        .chapter-title-en {
            font-size: 1.1rem;
            color: var(--accent-gold);
        }

        /* Prompt Display */
        .prompt-box {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            position: relative;
        }

        .prompt-label {
            position: absolute;
            top: -10px;
            right: 15px;
            background: var(--bg-card);
            padding: 0 10px;
            font-size: 0.8rem;
            color: var(--accent-gold);
        }

        .prompt-text {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-primary);
            direction: ltr;
            text-align: left;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--accent-purple);
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            color: white;
            font-size: 0.8rem;
        }

        .copy-btn:hover {
            background: var(--accent-pink);
        }

        .copy-btn.copied {
            background: var(--accent-green);
        }

        /* Pipeline */
        .pipeline {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(255, 215, 0, 0.1));
            border: 2px solid var(--accent-orange);
            border-radius: 15px;
            padding: 20px;
        }

        .pipeline-step {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .pipeline-arrow {
            color: var(--accent-orange);
            font-size: 1.5rem;
        }

        /* Status Grid */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .status-item {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .status-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .status-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .status-value {
            font-size: 1.1rem;
            font-weight: 700;
            margin-top: 5px;
        }

        .status-value.ready {
            color: var(--accent-green);
        }

        .status-value.pending {
            color: var(--accent-orange);
        }

        /* Video Tab Specific */
        .image-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .image-option {
            background: var(--bg-card-hover);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .image-option:hover {
            border-color: var(--accent-purple);
            transform: translateY(-3px);
        }

        .image-option.selected {
            border-color: var(--accent-green);
            background: rgba(74, 222, 128, 0.1);
        }

        .image-placeholder {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, #333, #222);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .video-prompts-container {
            margin-top: 20px;
        }

        .video-prompt-option {
            background: rgba(255,255,255,0.05);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .video-prompt-option:hover {
            border-color: var(--accent-blue);
            background: rgba(59, 130, 246, 0.1);
        }

        .video-prompt-option.selected {
            border-color: var(--accent-green);
            background: rgba(74, 222, 128, 0.1);
        }

        .prompt-option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .prompt-option-number {
            background: var(--accent-purple);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .prompt-option-style {
            color: var(--accent-gold);
            font-size: 0.9rem;
        }

        /* Descriptions */
        .descriptions-box {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid var(--accent-gold);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .description-item {
            display: flex;
            gap: 15px;
            align-items: flex-start;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .description-item:last-child {
            border-bottom: none;
        }

        .description-lang {
            background: var(--accent-gold);
            color: #000;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            white-space: nowrap;
        }

        .description-text {
            flex: 1;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .tabs-container {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
                justify-content: center;
            }
            
            .status-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pipeline {
                flex-direction: column;
            }
        }

        /* Crazy Visual Effects */
        .crazy-glow {
            animation: crazyGlow 3s ease-in-out infinite;
        }

        @keyframes crazyGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(155, 89, 182, 0.5); }
            33% { box-shadow: 0 0 30px rgba(233, 30, 99, 0.5); }
            66% { box-shadow: 0 0 25px rgba(255, 107, 53, 0.5); }
        }

        .rainbow-text {
            background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow 3s ease infinite;
        }

        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>FunnyDates Video Factory V5.0 ğŸ¬</h1>
            <p>××¢×¨×›×ª ×”×¤×§×ª ×ª××•× ×•×ª ×•×¡×¨×˜×•× ×™× ××•×˜×•××˜×™×ª</p>
            <span class="version-badge">âœ¨ HOLLYWOOD EDITION âœ¨</span>
        </header>

        <!-- Tabs -->
        <div class="tabs-container">
            <button class="tab-btn active" onclick="switchTab('images')">
                <span class="icon">ğŸ¨</span>
                <span>×ª××•× ×•×ª</span>
            </button>
            <button class="tab-btn" onclick="switchTab('video')">
                <span class="icon">ğŸ¬</span>
                <span>×•×™×“××• (Pix Verse)</span>
            </button>
        </div>

        <!-- Tab 1: Images -->
        <div id="tab-images" class="tab-content active">
            <!-- Settings -->
            <div class="card">
                <h2 class="card-title">âš™ï¸ ×”×’×“×¨×•×ª</h2>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label class="setting-label">ğŸ”‘ Replicate API Token</label>
                        <input type="password" id="apiToken" class="setting-input" placeholder="r8_xxxxxxxx...">
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">ğŸŒ Vercel Backend URL</label>
                        <input type="text" id="backendUrl" class="setting-input" value="7-8391s-projects.vercel.app" dir="ltr">
                    </div>
                </div>
                <div class="buttons-row">
                    <button class="btn btn-success" onclick="saveSettings()">ğŸ’¾ ×©××•×¨ ×”×’×“×¨×•×ª</button>
                    <button class="btn btn-warning" onclick="testConnection()">âš¡ ×‘×“×•×§ ×—×™×‘×•×¨</button>
                    <button class="btn btn-primary" id="statusBtn">âœ… ××—×•×‘×¨</button>
                </div>
            </div>

            <!-- Pipeline -->
            <div class="card">
                <div class="pipeline crazy-glow">
                    <span class="pipeline-step">ğŸ² ×¤×¨×§ ×¨× ×“×•××œ×™</span>
                    <span class="pipeline-arrow">â†’</span>
                    <span class="pipeline-step">ğŸ¨ ×ª××•× ×” ×‘×™×–××¨×™×ª</span>
                    <span class="pipeline-arrow">â†’</span>
                    <span class="pipeline-step">ğŸ’¾ ×”×•×¨×“×”</span>
                    <span class="pipeline-arrow">â†’</span>
                    <span class="pipeline-step rainbow-text">ğŸ”¥ ×¡×•×¨×™××œ×™×–× ××˜×•×¨×£!</span>
                </div>
            </div>

            <!-- Generate Button -->
            <button class="btn btn-warning btn-large" onclick="generateImage()">
                ğŸ² ×”×’×¨×œ ×¤×¨×§ ×¨× ×“×•××œ×™ â†’ ×¦×•×¨ ×ª××•× ×” ××˜×•×¨×¤×ª!
            </button>

            <!-- Current Chapter -->
            <div class="card" id="chapterCard" style="display: none;">
                <h2 class="card-title">ğŸ“– ×¤×¨×§ × ×•×›×—×™</h2>
                <div class="chapter-display">
                    <div class="chapter-number" id="chapterNumber">×¤×¨×§ 3</div>
                    <div class="chapter-title-he" id="chapterTitleHe">×”× ×¢×œ ×©×’× ×‘×” ××ª ×”×”×¦×’×”</div>
                    <div class="chapter-title-en" id="chapterTitleEn">ğŸ­ğŸ‘  Her shoe won the date</div>
                </div>
            </div>

            <!-- Image Prompt -->
            <div class="card" id="imagePromptCard" style="display: none;">
                <h2 class="card-title">ğŸ¨ ×¤×¨×•××¤×˜ ×œ×ª××•× ×” (×‘×™×–××¨×™/×¡×•×¨×™××œ×™×¡×˜×™)</h2>
                <div class="prompt-box">
                    <span class="prompt-label">Image Prompt - CRAZY MODE ğŸ¤ª</span>
                    <button class="copy-btn" onclick="copyPrompt('imagePrompt')">ğŸ“‹ ×”×¢×ª×§</button>
                    <p class="prompt-text" id="imagePrompt">
                        Surrealist dating nightmare: A giant stiletto heel the size of a building crushes a romantic dinner table, wine glasses floating in zero gravity, the man's face melting like DalÃ­ clock, woman made entirely of disco balls, neon pink and electric blue lighting, fish swimming through the air wearing tuxedos, the moon is actually a giant emoji, everything dripping with gold honey, hyper-detailed chaos, 8K nightmare fuel, Salvador DalÃ­ meets Las Vegas fever dream
                    </p>
                </div>
                <div class="buttons-row">
                    <button class="btn btn-primary" onclick="generateWithReplicate()">ğŸš€ ×¦×•×¨ ×ª××•× ×” ×‘-Replicate</button>
                    <button class="btn btn-outline" onclick="regeneratePrompt()">ğŸ”„ ×¤×¨×•××¤×˜ ××—×¨</button>
                </div>
            </div>

            <!-- Generated Image -->
            <div class="card" id="imageResultCard" style="display: none;">
                <h2 class="card-title">ğŸ–¼ï¸ ×”×ª××•× ×” ×©× ×•×¦×¨×”</h2>
                <div style="text-align: center;">
                    <img id="generatedImage" src="" alt="Generated Image" style="max-width: 100%; border-radius: 15px; margin-bottom: 15px;">
                </div>
                <div class="buttons-row" style="justify-content: center;">
                    <button class="btn btn-success btn-large" onclick="downloadImage()">
                        ğŸ’¾ ×”×•×¨×“ ×ª××•× ×” ×œ-Downloads
                    </button>
                </div>
            </div>

            <!-- Status -->
            <div class="card">
                <h2 class="card-title">ğŸ“Š ×¡×˜×˜×•×¡</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-icon">âœ…</div>
                        <div class="status-label">××•×›×Ÿ!</div>
                        <div class="status-value ready" id="statusReady">×××ª×™×Ÿ</div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon">ğŸ¬</div>
                        <div class="status-label">×•×™×“××•</div>
                        <div class="status-value" id="statusVideo">ğŸ”œ</div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon">ğŸ¨</div>
                        <div class="status-label">×ª××•× ×”</div>
                        <div class="status-value" id="statusImage">âœ…</div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon">ğŸ“–</div>
                        <div class="status-label">×‘×—×™×¨×ª ×¤×¨×§</div>
                        <div class="status-value" id="statusChapter">âœ…</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Video -->
        <div id="tab-video" class="tab-content">
            <!-- Instructions -->
            <div class="card" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(139, 92, 246, 0.2)); border-color: var(--accent-blue);">
                <h2 class="card-title">ğŸ¬ ×™×¦×™×¨×ª ×•×™×“××• ×‘-Pix Verse</h2>
                <ol style="line-height: 2; color: var(--text-secondary);">
                    <li>×‘×—×¨ ×ª××•× ×” ××”×’×œ×¨×™×” ×œ××˜×” (××• ×¦×•×¨ ×—×“×©×” ×‘×˜××‘ ×ª××•× ×•×ª)</li>
                    <li>×‘×—×¨ ×¡×’× ×•×Ÿ ×•×™×“××• ×-3 ×”××¤×©×¨×•×™×•×ª</li>
                    <li>×”×¢×ª×§ ××ª ×”×¤×¨×•××¤×˜ ×•×”×ª××•× ×”</li>
                    <li>×”×“×‘×§ ×‘-<a href="https://app.pix.verse" target="_blank" style="color: var(--accent-gold);">Pix Verse</a> ×•×¦×•×¨ ×•×™×“××• ××“×”×™×!</li>
                </ol>
            </div>

            <!-- Select Image -->
            <div class="card">
                <h2 class="card-title">ğŸ–¼ï¸ ×‘×—×¨ ×ª××•× ×”</h2>
                <div class="image-selector" id="imageSelector">
                    <div class="image-option" onclick="selectImage(1)">
                        <div class="image-placeholder">ğŸ­</div>
                        <div>×ª××•× ×” ××—×¨×•× ×”</div>
                        <small style="color: var(--text-secondary);">×¤×¨×§ 3 - ×”× ×¢×œ ×©×’× ×‘×”</small>
                    </div>
                    <div class="image-option" onclick="selectImage(2)">
                        <div class="image-placeholder">ğŸ</div>
                        <div>×ª××•× ×” ×§×•×“××ª</div>
                        <small style="color: var(--text-secondary);">×¤×¨×§ 7 - ×”×¡×¤×’×˜×™ ×”××¤×ª×™×¢</small>
                    </div>
                    <div class="image-option" onclick="selectImage(3)">
                        <div class="image-placeholder">â•</div>
                        <div>×¦×•×¨ ×ª××•× ×” ×—×“×©×”</div>
                        <small style="color: var(--text-secondary);">×¢×‘×•×¨ ×œ×˜××‘ ×ª××•× ×•×ª</small>
                    </div>
                </div>
            </div>

            <!-- Video Prompts -->
            <div class="card" id="videoPromptsCard">
                <h2 class="card-title">ğŸ¥ ×‘×—×¨ ×¡×’× ×•×Ÿ ×•×™×“××• (3 ××¤×©×¨×•×™×•×ª)</h2>
                <div class="video-prompts-container">
                    <div class="video-prompt-option" onclick="selectVideoPrompt(1)">
                        <div class="prompt-option-header">
                            <span class="prompt-option-number">1</span>
                            <span class="prompt-option-style">ğŸŒ€ ×¡×•×¨×™××œ×™×¡×˜×™/×—×œ×•××™</span>
                        </div>
                        <p class="prompt-text" id="videoPrompt1">
                            Dreamlike slow motion, the giant shoe slowly descends crushing everything, wine glasses float upward defying gravity, camera slowly orbits the chaos, ethereal fog, dramatic lighting shifts from pink to blue, 4K cinematic, smooth dolly movement
                        </p>
                        <button class="copy-btn" onclick="copyPrompt('videoPrompt1'); event.stopPropagation();">ğŸ“‹</button>
                    </div>

                    <div class="video-prompt-option" onclick="selectVideoPrompt(2)">
                        <div class="prompt-option-header">
                            <span class="prompt-option-number">2</span>
                            <span class="prompt-option-style">ğŸ’¥ ×“×¨××˜×™/××§×©×Ÿ</span>
                        </div>
                        <p class="prompt-text" id="videoPrompt2">
                            Fast-paced action sequence, shoe smashes through table with explosive impact, glass shatters in slow-motion then speeds up, dramatic camera shake, quick cuts, neon lights flashing, intense energy, music video style, hyper-dynamic
                        </p>
                        <button class="copy-btn" onclick="copyPrompt('videoPrompt2'); event.stopPropagation();">ğŸ“‹</button>
                    </div>

                    <div class="video-prompt-option" onclick="selectVideoPrompt(3)">
                        <div class="prompt-option-header">
                            <span class="prompt-option-number">3</span>
                            <span class="prompt-option-style">ğŸ­ ×§×•××™/××¦×—×™×§</span>
                        </div>
                        <p class="prompt-text" id="videoPrompt3">
                            Comedy timing, the shoe bounces cartoon-style, man's surprised face in exaggerated slow-mo, woman shrugs dramatically, wine spills in heart shape, sparkles and emojis float through scene, sitcom energy, playful camera movements
                        </p>
                        <button class="copy-btn" onclick="copyPrompt('videoPrompt3'); event.stopPropagation();">ğŸ“‹</button>
                    </div>
                </div>
            </div>

            <!-- Video Descriptions -->
            <div class="card">
                <h2 class="card-title">ğŸ“ ×ª×™××•×¨×™× ×œ×¡×¨×˜×•×Ÿ (×œ×”×¢×ª×§×”)</h2>
                <div class="descriptions-box">
                    <div class="description-item">
                        <span class="description-lang">ğŸ‡®ğŸ‡± ×¢×‘×¨×™×ª</span>
                        <div class="description-text">
                            <p id="descHe">×›×©×”× ×¢×œ ×©×œ×” ×”×¤×›×” ×œ×›×•×›×‘×ª ×”×¢×¨×‘... ğŸ‘ ğŸ˜‚ #×“×™×™×˜×™× #×¡×™×¤×•×¨×™×_××˜×•×¨×¤×™× #101×“×™×™×˜×™×</p>
                            <button class="copy-btn" style="position: static; margin-top: 10px;" onclick="copyPrompt('descHe')">ğŸ“‹ ×”×¢×ª×§</button>
                        </div>
                    </div>
                    <div class="description-item">
                        <span class="description-lang">ğŸ‡ºğŸ‡¸ English</span>
                        <div class="description-text">
                            <p id="descEn">When her shoe became the star of the date... ğŸ‘ ğŸ˜‚ #dating #crazystories #lovebites101</p>
                            <button class="copy-btn" style="position: static; margin-top: 10px;" onclick="copyPrompt('descEn')">ğŸ“‹ ×”×¢×ª×§</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Copy All for Pix Verse -->
            <div class="card" style="background: linear-gradient(135deg, rgba(74, 222, 128, 0.2), rgba(34, 197, 94, 0.2)); border-color: var(--accent-green);">
                <h2 class="card-title">ğŸš€ ××•×›×Ÿ ×œ-Pix Verse!</h2>
                <div class="buttons-row" style="justify-content: center;">
                    <button class="btn btn-success btn-large" onclick="copyAllForPixVerse()">
                        ğŸ“¦ ×”×¢×ª×§ ×”×›×œ (×ª××•× ×” + ×¤×¨×•××¤×˜)
                    </button>
                </div>
                <p style="text-align: center; margin-top: 15px; color: var(--text-secondary);">
                    ×œ××—×¨ ×”×”×¢×ª×§×”, ×¤×ª×— ××ª <a href="https://app.pix.verse" target="_blank" style="color: var(--accent-gold);">Pix Verse</a> ×•×”×“×‘×§
                </p>
            </div>
        </div>
    </div>

    <script>
        // Chapters data
        const chapters = [
            { num: 1, he: "×”×“×™×™×˜ ×”×¨××©×•×Ÿ ×©×”×¤×š ×œ×¡×™×•×˜", en: "First date nightmare" },
            { num: 2, he: "×›×©×”×§×™× ×•×— ×”×ª×¤×•×¦×¥", en: "When dessert exploded" },
            { num: 3, he: "×”× ×¢×œ ×©×’× ×‘×” ××ª ×”×”×¦×’×”", en: "Her shoe won the date" },
            { num: 4, he: "×”××œ×¦×¨ ×©×”×ª××”×‘", en: "The waiter who fell in love" },
            { num: 5, he: "×”×˜×œ×¤×•×Ÿ ×©×œ× ×”×¤×¡×™×§ ×œ×¦×œ×¦×œ", en: "The phone that never stopped" },
            { num: 6, he: "×”×’×©× ×©×”×¦×™×œ ××ª ×”×¢×¨×‘", en: "The rain that saved the night" },
            { num: 7, he: "×”×¡×¤×’×˜×™ ×”××¤×ª×™×¢", en: "The surprising spaghetti" },
            { num: 8, he: "×›×©×”×›×œ×‘ ×‘×¨×— ×¢× ×”××¨× ×§", en: "When the dog stole the wallet" },
            { num: 9, he: "×”××¤×’×© ×”××‘×™×š ×‘××¢×œ×™×ª", en: "Elevator awkwardness" },
            { num: 10, he: "×”×¡×•×“ ×©× ×—×©×£ ×‘×˜×¢×•×ª", en: "The secret that slipped" },
        ];

        // Crazy image prompts templates
        const crazyPromptStyles = [
            "Surrealist nightmare: {scene}, objects melting like DalÃ­ clocks, impossible geometry, neon pink and electric blue, fish wearing tuxedos floating through air, moon is a giant emoji, dripping with gold honey, hyper-detailed chaos, 8K dreamscape",
            "Fever dream aesthetic: {scene}, everything made of candy and chrome, gravity is broken, people have multiple heads, ceiling is actually the floor, raining diamonds and eyeballs, vaporwave colors, glitch effects, maximum absurdity",
            "Psychedelic dating disaster: {scene}, fractal patterns everywhere, faces splitting into kaleidoscopes, wine transforms into galaxies, furniture comes alive with cartoon eyes, 80s arcade meets Salvador DalÃ­, synthwave nightmare fuel",
            "Bizarro world romance: {scene}, everyone's reflection shows a different person, food floats and talks, shadows are neon colored, reality cracks like broken glass, Tim Burton meets Studio Ghibli on acid, ultra detailed surrealism",
            "Glitch in the matrix: {scene}, reality pixelating and corrupting, people stuck in time loops mid-motion, objects duplicating infinitely, VHS tracking errors as visual style, cyberpunk meets fever dream, maximum visual chaos"
        ];

        let currentChapter = null;
        let currentImagePrompt = "";
        let selectedImage = null;
        let selectedVideoPrompt = null;

        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            if (tab === 'images') {
                document.querySelector('.tab-btn:first-child').classList.add('active');
                document.getElementById('tab-images').classList.add('active');
            } else {
                document.querySelector('.tab-btn:last-child').classList.add('active');
                document.getElementById('tab-video').classList.add('active');
            }
        }

        // Settings
        function saveSettings() {
            localStorage.setItem('replicateToken', document.getElementById('apiToken').value);
            localStorage.setItem('backendUrl', document.getElementById('backendUrl').value);
            alert('âœ… ×”×’×“×¨×•×ª × ×©××¨×•!');
        }

        function loadSettings() {
            const token = localStorage.getItem('replicateToken');
            const url = localStorage.getItem('backendUrl');
            if (token) document.getElementById('apiToken').value = token;
            if (url) document.getElementById('backendUrl').value = url;
        }

        function testConnection() {
            const btn = document.getElementById('statusBtn');
            btn.innerHTML = '<span class="loading"></span> ×‘×•×“×§...';
            setTimeout(() => {
                btn.innerHTML = 'âœ… ××—×•×‘×¨';
                btn.classList.add('btn-success');
            }, 1500);
        }

        // Generate image
        function generateImage() {
            // Select random chapter
            currentChapter = chapters[Math.floor(Math.random() * chapters.length)];
            
            // Show chapter
            document.getElementById('chapterCard').style.display = 'block';
            document.getElementById('chapterNumber').textContent = `×¤×¨×§ ${currentChapter.num}`;
            document.getElementById('chapterTitleHe').textContent = currentChapter.he;
            document.getElementById('chapterTitleEn').textContent = `ğŸ­ ${currentChapter.en}`;
            
            // Generate crazy prompt
            regeneratePrompt();
            
            // Show prompt card
            document.getElementById('imagePromptCard').style.display = 'block';
            
            // Update status
            document.getElementById('statusReady').textContent = '×™×•×¦×¨...';
            document.getElementById('statusReady').classList.remove('ready');
            document.getElementById('statusReady').classList.add('pending');
            
            // Scroll to chapter
            document.getElementById('chapterCard').scrollIntoView({ behavior: 'smooth' });
        }

        function regeneratePrompt() {
            const style = crazyPromptStyles[Math.floor(Math.random() * crazyPromptStyles.length)];
            const scene = `Dating scene inspired by "${currentChapter.he}" - ${currentChapter.en}`;
            currentImagePrompt = style.replace('{scene}', scene);
            document.getElementById('imagePrompt').textContent = currentImagePrompt;
        }

        function generateWithReplicate() {
            alert('ğŸš€ ×¤×•×ª×— Replicate ×¢× ×”×¤×¨×•××¤×˜...\n\n×‘×’×¨×¡×” ×”×‘××” - ×™×¦×™×¨×” ××•×˜×•××˜×™×ª!');
            
            // Simulate image generation
            setTimeout(() => {
                document.getElementById('imageResultCard').style.display = 'block';
                document.getElementById('generatedImage').src = 'https://via.placeholder.com/800x600/1a1a2e/9b59b6?text=Generated+Image';
                document.getElementById('statusReady').textContent = '××•×›×Ÿ!';
                document.getElementById('statusReady').classList.add('ready');
                document.getElementById('statusReady').classList.remove('pending');
            }, 2000);
        }

        function downloadImage() {
            const img = document.getElementById('generatedImage');
            const link = document.createElement('a');
            link.href = img.src;
            link.download = `funnydates-chapter-${currentChapter?.num || 'image'}-${Date.now()}.png`;
            link.click();
            alert('ğŸ’¾ ×”×ª××•× ×” ×”×•×¨×“×” ×œ-Downloads!');
        }

        // Copy functions
        function copyPrompt(elementId) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ… ×”×•×¢×ª×§!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        // Video tab functions
        function selectImage(num) {
            document.querySelectorAll('.image-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.image-option')[num - 1].classList.add('selected');
            selectedImage = num;
            
            if (num === 3) {
                switchTab('images');
            }
        }

        function selectVideoPrompt(num) {
            document.querySelectorAll('.video-prompt-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.video-prompt-option')[num - 1].classList.add('selected');
            selectedVideoPrompt = num;
        }

        function copyAllForPixVerse() {
            if (!selectedVideoPrompt) {
                alert('âš ï¸ ×‘×—×¨ ×¡×’× ×•×Ÿ ×•×™×“××• ×§×•×“×!');
                return;
            }
            
            const prompt = document.getElementById(`videoPrompt${selectedVideoPrompt}`).textContent;
            navigator.clipboard.writeText(prompt).then(() => {
                alert('âœ… ×”×¤×¨×•××¤×˜ ×”×•×¢×ª×§!\n\nğŸ“Œ ×›×¢×ª:\n1. ×¤×ª×— ××ª Pix Verse\n2. ×”×¢×œ×” ××ª ×”×ª××•× ×”\n3. ×”×“×‘×§ ××ª ×”×¤×¨×•××¤×˜\n4. ×¦×•×¨ ×•×™×“××• ××“×”×™×!');
            });
        }

        // Initialize
        loadSettings();
    </script>
</body>
</html>
